# Example values for nullify-k8s-collector
# Copy this file to values-production.yaml and fill in your actual values
# DO NOT commit values-production.yaml to version control
#
# REQUIRED VALUES (get these from Nullify configure page):
#   - collector.clusterName: Your exact EKS cluster name
#   - collector.s3.bucket: S3 bucket name
#   - collector.kms.keyArn: KMS key ARN
#   - serviceAccount.annotations.eks.amazonaws.com/role-arn: IAM role ARN

collector:
  # AWS region (extract from your KMS key ARN)
  aws:
    region: "us-west-2"
  
  # Must match your actual EKS cluster name exactly
  clusterName: "my-production-cluster"
  
  # S3 configuration (from Nullify configure page)
  s3:
    bucket: "your-nullify-bucket"
    keyPrefix: "k8s-collector"
  
  # KMS configuration (from Nullify configure page)
  kms:
    keyArn: "arn:aws:kms:us-west-2:123456789012:key/your-key-id"
  
  # Debug logging (optional)
  debug:
    enabled: false
  
  # Collection schedule (optional, default: daily at midnight)
  schedule: "0 2 * * *"
  
  # Data collection filters (optional)
  dataCollection:
    excludeNamespaces: "kube-system,kube-public,cert-manager"
    # includeResources: "pods,services,deployments,configmaps"
    # metadataOnly: true
  
  # Resource limits (optional)
  resources:
    limits:
      cpu: "500m"
      memory: "512Mi"
    requests:
      cpu: "200m"
      memory: "256Mi"

# Service account with IRSA (from Nullify configure page)
serviceAccount:
  annotations:
    eks.amazonaws.com/role-arn: "arn:aws:iam::123456789012:role/NullifyReadOnlyRole"

# Node placement (optional)
nodeSelector:
  node-type: "system"

# Tolerations (optional)
tolerations:
  - key: "dedicated"
    operator: "Equal"
    value: "system"
    effect: "NoSchedule"

# Additional labels (optional)
labels:
  environment: "production"
